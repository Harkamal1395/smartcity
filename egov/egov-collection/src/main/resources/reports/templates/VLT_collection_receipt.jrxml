<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.2.2.final using JasperReports Library version 6.2.2  -->
<!-- 2016-06-16T11:25:50 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="collection_receipt" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" resourceBundle="custom" uuid="97372054-cc7e-41ed-9c4d-7a7a1652d8c6">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="39"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<import value="org.egov.infstr.utils.*"/>
	<import value="org.egov.collection.constants.CollectionConstants"/>
	<import value="org.egov.infra.reporting.util.ReportUtil"/>
	<import value="org.egov.erpcollection.web.constants.*"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["/work/collections/reports/templates/"]]></defaultValueExpression>
	</parameter>
	<parameter name="EGOV_CONNECTION" class="java.sql.Connection" isForPrompting="false">
		<parameterDescription><![CDATA[SQL connection object]]></parameterDescription>
		<defaultValueExpression><![CDATA[null]]></defaultValueExpression>
	</parameter>
	<parameter name="CURR_DATE" class="java.util.Date">
		<parameterDescription><![CDATA[Current Date]]></parameterDescription>
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<field name="payeeName" class="java.lang.String">
		<fieldDescription><![CDATA[Payee Name]]></fieldDescription>
	</field>
	<field name="receiptStatus" class="org.egov.commons.EgwStatus"/>
	<field name="receiptNum" class="java.lang.String">
		<fieldDescription><![CDATA[Receipt Number]]></fieldDescription>
	</field>
	<field name="receiptDate" class="java.util.Date"/>
	<field name="payeeAddress" class="java.lang.String">
		<fieldDescription><![CDATA[Payee Address]]></fieldDescription>
	</field>
	<field name="billReferenceNum" class="java.lang.String">
		<fieldDescription><![CDATA[Bill Reference Number]]></fieldDescription>
	</field>
	<field name="serviceName" class="java.lang.String">
		<fieldDescription><![CDATA[Service Name]]></fieldDescription>
	</field>
	<field name="description" class="java.lang.String">
		<fieldDescription><![CDATA[Description]]></fieldDescription>
	</field>
	<field name="paidBy" class="java.lang.String">
		<fieldDescription><![CDATA[Paid By]]></fieldDescription>
	</field>
	<field name="accountDetails" class="java.util.Collection"/>
	<field name="totalAmount" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[Total Amount]]></fieldDescription>
	</field>
	<field name="instrumentDetails" class="java.util.Collection"/>
	<field name="receiptMisc" class="org.egov.collection.entity.ReceiptMisc"/>
	<field name="collectionType" class="java.lang.String"/>
	<field name="createdBy" class="org.egov.infra.admin.master.entity.User"/>
	<field name="source" class="java.lang.String">
		<fieldDescription><![CDATA[source]]></fieldDescription>
	</field>
	<variable name="amountReceived" class="java.math.BigDecimal">
		<initialValueExpression><![CDATA[new java.math.BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="descrip" class="java.lang.String">
		<variableExpression><![CDATA[]]></variableExpression>
	</variable>
	<group name="Receipt" isStartNewPage="true">
		<groupExpression><![CDATA[$F{receiptNum}]]></groupExpression>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="202" splitType="Stretch">
			<image onErrorType="Blank">
				<reportElement x="10" y="0" width="60" height="60" uuid="0df2ed0a-84b0-402b-9f41-e7b12b27680f">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<imageExpression><![CDATA[ReportUtil.logoBasePath()]]></imageExpression>
			</image>
			<textField>
				<reportElement x="87" y="0" width="400" height="43" uuid="2e4dabdc-58c3-4512-b1e9-10f0de235034">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="18" isBold="true" pdfFontName="Times-Bold" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[ReportUtil.getCityName()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="196" y="43" width="163" height="20" uuid="7fa2a9dc-05e7-4b1e-a990-30bef838cf6d">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<printWhenExpression><![CDATA[!$F{description}.startsWith( "Service Charges" )]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="16" isBold="true" pdfFontName="Times-Bold" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[RECEIPT]]></text>
			</staticText>
			<textField>
				<reportElement positionType="Float" x="400" y="70" width="149" height="20" uuid="0023e2c9-7660-4c16-8e32-f7416ec3cfda">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box leftPadding="5" rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{description}.substring($F{description}.lastIndexOf(" ")+1)]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="300" y="70" width="100" height="15" uuid="b4196e17-5966-4aac-8472-41f0c74b4585">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Assessment No. :]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" x="0" y="100" width="90" height="15" uuid="04ddd539-ce21-4590-bf66-b37425ab27d7">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Payee Details]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="115" width="90" height="15" uuid="1b64002c-30c3-42e5-9f24-c0e8a78cc55a">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Name & Address :]]></text>
			</staticText>
			<textField>
				<reportElement positionType="Float" stretchType="RelativeToBandHeight" x="91" y="100" width="193" height="53" isPrintWhenDetailOverflows="true" uuid="6769e71e-4242-4cdd-b737-e9de34ba9628">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box leftPadding="5" rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{payeeName}+"\n"+$F{payeeAddress}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="298" y="100" width="112" height="15" uuid="f561d959-7bf4-4809-ac72-92dd71139ff7">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Amount Payable]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="66" width="551" height="1" uuid="b7b9208f-eef5-40b7-9e5e-3d43a7844a44">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="200" width="551" height="1" uuid="2d885db1-8f3c-4bd8-bc6c-1a6b9c00468c">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
			</line>
			<subreport>
				<reportElement x="293" y="115" width="257" height="71" uuid="f2e8543e-44d8-4983-85a5-9a3b4ede9d74">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{accountDetails}, false)]]></dataSourceExpression>
				<subreportExpression><![CDATA[ReportUtil.getTemplateAsStream("PT_collection_receipt_accounts_amtpayable.jasper")]]></subreportExpression>
			</subreport>
			<textField>
				<reportElement positionType="Float" x="91" y="70" width="193" height="25" uuid="13a55e85-9c77-4a1e-b2b7-715bd33a3194">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box leftPadding="5" rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{receiptMisc}.getDepositedInBank() != null ? $F{receiptNum} : $F{receiptNum}+($F{receiptMisc}.getReceiptHeader().getManualreceiptnumber()==null? "":"("+$F{receiptMisc}.getReceiptHeader().getManualreceiptnumber()+")")+"\n"+new java.text.SimpleDateFormat("dd-MM-yyyy hh:mm:ss").format($F{receiptDate})]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="1" y="70" width="89" height="15" uuid="8c0e4556-4764-451d-9d42-f531309889c0">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Receipt No. :]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="82" width="90" height="15" uuid="3629bde8-1f6d-46d1-851a-1a4bcd04d8f2">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Date :]]></text>
			</staticText>
			<textField evaluationTime="Report">
				<reportElement positionType="Float" x="91" y="160" width="193" height="25" uuid="9ad8c7c8-d07c-472a-80ef-d278c51aa8ca">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<box leftPadding="5" rightPadding="5">
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["PROPERTY TAX(ON LAND)\n"+$F{source}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" stretchType="RelativeToBandHeight" x="0" y="164" width="90" height="25" uuid="abb29d4e-1813-4f59-a667-18ab97e83a8c">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Purpose &\nPlace of Payment :"]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="188">
			<staticText>
				<reportElement positionType="Float" x="0" y="-5" width="120" height="15" uuid="5db4760a-034d-408e-825b-4d932f5b2cb5">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Payment Details]]></text>
			</staticText>
			<subreport>
				<reportElement x="0" y="13" width="550" height="130" uuid="2795d759-0525-445d-9242-1369ad6de55c">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{accountDetails}, false)]]></dataSourceExpression>
				<returnValue subreportVariable="descrip" toVariable="descrip"/>
				<subreportExpression><![CDATA[ReportUtil.getTemplateAsStream("PT_collection_receipt_accounts.jasper")]]></subreportExpression>
			</subreport>
			<line>
				<reportElement x="0" y="148" width="551" height="1" uuid="feb03f18-961f-4362-9605-6c9a58d0e319">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement positionType="Float" x="447" y="167" width="100" height="20" uuid="29b3dc40-6242-4f7a-b35a-3057ae8c6470">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Signature]]></text>
			</staticText>
			<subreport>
				<reportElement x="0" y="13" width="214" height="98" uuid="ef8e514c-6dfa-47c1-9e54-4a3a99203927">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{instrumentDetails}, false)]]></dataSourceExpression>
				<subreportExpression><![CDATA[ReportUtil.getTemplateAsStream("PT_collection_receipt_instruments.jasper")]]></subreportExpression>
			</subreport>
		</band>
	</summary>
</jasperReport>
